{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["// const API_URL ='https://pixabay.com/api/'\n// const API_KEY ='47362055-4c26e776b4d447c79837e3674'\n\n// const input = document.querySelector(\".form-input\")\n// export const params = new URLSearchParams({\n//   key: API_KEY,\n//   q: input.value\n// })\n\nconst API_KEY = '47379272-a961c7172d29abe92af06f616';\n\nexport const params = new URLSearchParams({\n  key: API_KEY,\n  q: 'yellow+flower',\n});\n\nconst BASE_URL = `https://pixabay.com/api/?${params}`;\n\n// const base_Url = `${API_URL}?${params}`\n\n\n\nexport function fetchRequest(url = BASE_URL) {\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(\"Sorry, no results found for your query. Please try another search term.\");\n    }\n    return response.json();\n  });\n}","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function createMarkup(arr) {\n  return arr\n    .map(\n      ({\n        id,\n        webformatURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n        largeImageURL,\n      }) => `\n        <li data-id=\"${id}\" class=\"list__item\">\n          <a class=\"gallery-link\" href=\"${largeImageURL}\">                          \n            <img class=\"item-img\" src=\"${webformatURL}\" alt=\"${tags}\"/>                  \n          </a>\n          <ul class=\"item-container-list\">\n              <li class=\"container-list\">\n                <h3 class=\"item-title\">Likes</h3>\n                <p class=\"item-content\">${likes}</p>\n              </li>\n              <li class=\"container-list\">\n                <h3 class=\"item-title\">Views</h3>\n                <p class=\"item-content\">${views}</p>\n              </li>\n              <li class=\"container-list\">\n                <h3 class=\"item-title\">Comments</h3>\n                <p class=\"item-content\">${comments}</p>\n              </li>\n              <li class=\"container-list\">\n                <h3 class=\"item-title\">Downloads</h3>\n                <p class=\"item-content\">${downloads}</p>\n              </li>\n            </ul>          \n        </li>\n    `\n    )\n    .join('');\n}\n\n\n\nexport const lightbox = new SimpleLightbox('.gallery a', {captionsData: 'alt',\n  captionDelay: 250,});","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { fetchRequest, params } from \"./js/pixabay-api\";\nimport {lightbox ,createMarkup} from \"./js/render-functions\";\n\nconst input = document.querySelector(\".form-input\")\nconst btn = document.querySelector(\".btn-js\")\nconst gallery = document.querySelector(\".gallery\")\n\nbtn.addEventListener(\"click\", searchClick)\n\nfunction searchClick(event){\n  event.preventDefault()\n\n  const inputMessage = input.value.trim();\n  gallery.innerHTML = '<span class=\"loader\"></span>';\n\n  if (!input.value.trim()) {\n    iziToast.show({\n      message: \"Input cannot be empty. Please enter a search term!\"\n    });\n    return;\n  }\n  params.set('q', inputMessage)\n  const base_Url = `https://pixabay.com/api/?${params}`\n\n  fetchRequest(base_Url)\n  .then(data =>{\n    if (data.hits.length === 0) {\n      gallery.innerHTML = '<span class=\"loader\"></span>';\n      throw new Error(\"Sorry, no results found for your query. Please try another search term.\");\n      \n    }\n    gallery.innerHTML = createMarkup(data.hits);\n    lightbox.refresh();\n  }\n  )\n  .catch(err => {\n    iziToast.show({\n          message: `${err.message}`\n      });\n      gallery.innerHTML= \"\"\n  })\n  .finally(() => {\n    input.value = \"\"\n    \n  })\n}"],"names":["API_KEY","params","BASE_URL","fetchRequest","url","response","createMarkup","arr","id","webformatURL","tags","likes","views","comments","downloads","largeImageURL","lightbox","SimpleLightbox","input","btn","gallery","searchClick","event","inputMessage","iziToast","base_Url","data","err"],"mappings":"6vBASA,MAAMA,EAAU,qCAEHC,EAAS,IAAI,gBAAgB,CACxC,IAAKD,EACL,EAAG,eACL,CAAC,EAEKE,EAAW,4BAA4BD,CAAM,GAM5C,SAASE,EAAaC,EAAMF,EAAU,CAC3C,OAAO,MAAME,CAAG,EAAE,KAAKC,GAAY,CACjC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,yEAAyE,EAE3F,OAAOA,EAAS,MACpB,CAAG,CACH,CC1BO,SAASC,EAAaC,EAAK,CAChC,OAAOA,EACJ,IACC,CAAC,CACC,GAAAC,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,EACA,cAAAC,CACR,IAAY;AAAA,uBACWP,CAAE;AAAA,0CACiBO,CAAa;AAAA,yCACdN,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,0CAKzBC,CAAK;AAAA;AAAA;AAAA;AAAA,0CAILC,CAAK;AAAA;AAAA;AAAA;AAAA,0CAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,0CAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,KAK9C,EACA,KAAK,EAAE,CACZ,CAIO,MAAME,EAAW,IAAIC,EAAe,aAAc,CAAC,aAAc,MACtE,aAAc,GAAG,CAAE,ECzCfC,EAAQ,SAAS,cAAc,aAAa,EAC5CC,EAAM,SAAS,cAAc,SAAS,EACtCC,EAAU,SAAS,cAAc,UAAU,EAEjDD,EAAI,iBAAiB,QAASE,CAAW,EAEzC,SAASA,EAAYC,EAAM,CACzBA,EAAM,eAAgB,EAEtB,MAAMC,EAAeL,EAAM,MAAM,KAAI,EAGrC,GAFAE,EAAQ,UAAY,+BAEhB,CAACF,EAAM,MAAM,OAAQ,CACvBM,EAAS,KAAK,CACZ,QAAS,oDACf,CAAK,EACD,MACD,CACDvB,EAAO,IAAI,IAAKsB,CAAY,EAC5B,MAAME,EAAW,4BAA4BxB,CAAM,GAEnDE,EAAasB,CAAQ,EACpB,KAAKC,GAAO,CACX,GAAIA,EAAK,KAAK,SAAW,EACvB,MAAAN,EAAQ,UAAY,+BACd,IAAI,MAAM,yEAAyE,EAG3FA,EAAQ,UAAYd,EAAaoB,EAAK,IAAI,EAC1CV,EAAS,QAAO,CACjB,CACA,EACA,MAAMW,GAAO,CACZH,EAAS,KAAK,CACR,QAAS,GAAGG,EAAI,OAAO,EACjC,CAAO,EACDP,EAAQ,UAAW,EACzB,CAAG,EACA,QAAQ,IAAM,CACbF,EAAM,MAAQ,EAElB,CAAG,CACH"}